<h1>New Post</h1>

<form action="<%= posts_url %>" method="post">
  <%= form_authentication %>

  <input type="hidden" name="post[sub_ids][]" value="">
  <% Sub.all.each do |sub| %>
    <label for="post_sub_ids">
      <%= sub.title %>
    </label>
    <input type="checkbox"
           name="post[sub_ids][]"
           value="<%= sub.id %>"
           id="post_sub_ids"
           <%= "checked" if @post.sub_ids.include?(sub.id) %>><br>
  <% end %>

  <table>
    <tr>
      <td>
        <label for="post_title">Title</label>
      </td>
      <td>
        <input type="text"
               name="post[title]"
               value="<%= @post.title %>"
               id="post_title">
      </td>
    </tr>
    <tr>
      <td>
        <label for="post_url">Url</label>
      </td>
      <td>
        <input type="text"
               name="post[url]"
               value="<%= @post.url %>"
               id="post_url">
      </td>
    </tr>
    <tr>
      <td>
        <label for="post_content">Content</label>
      </td>
      <td>
        <textarea name="post[content]"
                  id="post_content"
                  rows="8"
                  cols="40"><%= @post.content %></textarea>
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
        <button type="submit">Create post</button>
      </td>
    </tr>
  </table>
</form>
